import { logger } from "https://baseless.dev/w/logger/mod.js";
import { ClientNotFoundError } from "https://baseless.dev/w/shared/client.js";
export class MemoryClientProvider {
    logger = logger("provider-client-memory");
    clients = new Map();
    constructor(clients = []) {
        for (const client of clients) {
            this.clients.set(client.id, client);
        }
    }
    getClientById(id) {
        if (this.clients.has(id)) {
            return Promise.resolve(this.clients.get(id));
        }
        return Promise.reject(new ClientNotFoundError(id));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUU5RCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUs5RSxNQUFNLE9BQU8sb0JBQW9CO0lBQ3hCLE1BQU0sR0FBRyxNQUFNLENBQUMsd0JBQXdCLENBQUMsQ0FBQztJQUMxQyxPQUFPLEdBQUcsSUFBSSxHQUFHLEVBQWtCLENBQUM7SUFLNUMsWUFDQyxVQUFvQixFQUFFO1FBRXRCLEtBQUssTUFBTSxNQUFNLElBQUksT0FBTyxFQUFFO1lBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDcEM7SUFDRixDQUFDO0lBS0QsYUFBYSxDQUFDLEVBQVU7UUFDdkIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtZQUN6QixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFLENBQUMsQ0FBQztTQUM5QztRQUNELE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLG1CQUFtQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDcEQsQ0FBQztDQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcImh0dHBzOi8vYmFzZWxlc3MuZGV2L3gvbG9nZ2VyL21vZC50c1wiO1xuaW1wb3J0IHsgQ2xpZW50LCBJQ2xpZW50UHJvdmlkZXIgfSBmcm9tIFwiaHR0cHM6Ly9iYXNlbGVzcy5kZXYveC9wcm92aWRlci9jbGllbnQudHNcIjtcbmltcG9ydCB7IENsaWVudE5vdEZvdW5kRXJyb3IgfSBmcm9tIFwiaHR0cHM6Ly9iYXNlbGVzcy5kZXYveC9zaGFyZWQvY2xpZW50LnRzXCI7XG5cbi8qKlxuICogTWFpbCBwcm92aWRlciB0aGF0IHNlbmQgZW1haWwgd2l0aCBTZW5kZ3JpZCBhcGlcbiAqL1xuZXhwb3J0IGNsYXNzIE1lbW9yeUNsaWVudFByb3ZpZGVyIGltcGxlbWVudHMgSUNsaWVudFByb3ZpZGVyIHtcblx0cHJpdmF0ZSBsb2dnZXIgPSBsb2dnZXIoXCJwcm92aWRlci1jbGllbnQtbWVtb3J5XCIpO1xuXHRwcml2YXRlIGNsaWVudHMgPSBuZXcgTWFwPHN0cmluZywgQ2xpZW50PigpO1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3QgYSBTZW5kZ3JpZCBNYWlsIFByb3ZpZGVyIG9iamVjdCB3aXRoIGFuIEFQSSBrZXlcblx0ICovXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcihcblx0XHRjbGllbnRzOiBDbGllbnRbXSA9IFtdLFxuXHQpIHtcblx0XHRmb3IgKGNvbnN0IGNsaWVudCBvZiBjbGllbnRzKSB7XG5cdFx0XHR0aGlzLmNsaWVudHMuc2V0KGNsaWVudC5pZCwgY2xpZW50KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmV0cmlldmUgYSBDbGllbnQgYnkgaXQncyBpZFxuXHQgKi9cblx0Z2V0Q2xpZW50QnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxDbGllbnQ+IHtcblx0XHRpZiAodGhpcy5jbGllbnRzLmhhcyhpZCkpIHtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5jbGllbnRzLmdldChpZCkhKTtcblx0XHR9XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBDbGllbnROb3RGb3VuZEVycm9yKGlkKSk7XG5cdH1cbn1cbiJdfQ==
